webpackJsonp([1],{Dstr:function(e,n){},"Kp+/":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("7+uW"),i=t("Ml+6"),r={name:"LevelView3D",mounted:function(){function e(){var e=d.getWorldDirection();e.multiplyScalar(.1),c[87]&&d.position.add(e),d.setRotationFromQuaternion(new i.h(0,0,0,1)),d.rotateOnWorldAxis(new i.k(1,0,0),v),d.rotateOnWorldAxis(new i.k(0,1,0),m),o.render(r,d),window.requestAnimationFrame(f)}function n(e){p&&(m-=e.movementX/1e3,v-=e.movementY/1e3),p=e.offsetX,e.offsetY}var t=void 0,o=void 0,r=void 0,d=void 0,a=void 0,s=void 0,l=void 0,u=this,c=[];window.onkeyup=function(e){c[e.keyCode]=!1},window.onkeydown=function(e){c[e.keyCode]=!0};var v=0,m=0,f=e,p=void 0;document.bus.$on("world-loaded",function(c){t&&u.$el.removeChild(o.domElement),function(e){(d=new i.g(70,1,1,1e3)).position.z=50,d.position.y=50,d.rotation.x=-.8,r=new i.i;var t=new i.b(1,1,1),c=new i.b(2,2,2),v=new i.f({color:16777215,shading:i.j}),m=new i.f({color:16716049,shading:i.j});(o=new i.l).setPixelRatio(window.devicePixelRatio),o.setSize(600,600),u.$el.appendChild(o.domElement),o.domElement.oncontextmenu=function(e){return!1},o.domElement.onmousedown=function(e){return 2===e.button&&(o.domElement.requestPointerLock(),document.addEventListener("mousemove",n,!1)),!1},o.domElement.onmouseup=function(e){return document.exitPointerLock(),document.removeEventListener("mousemove",n,!1),!1},(s=new i.c(16777181,.5)).position.set(-10,300.75,500),r.add(s),l=new i.a(16777215,.5),r.add(l),a=new i.d,e.things.forEach(function(e){var n=void 0;(n=0===e.type.indexOf("StructureFrame",0)?new i.e(c,v):new i.e(t,m)).position.x=e.pos.x,n.position.y=e.pos.y,n.position.z=e.pos.z,a.add(n)}),r.add(a)}(c),window.requestAnimationFrame(e),t=!0})}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"view3d"})},staticRenderFns:[]},a={name:"LevelLoadSave",created:function(){var e=this;document.bus.$on("world-loaded",function(n){e.world=n})},data:function(){return{world:void 0,loadWorld:function(e){var n={},t=e.target,o=t.files[0],i=new FileReader;o&&(i.onload=function(e){var o=(new DOMParser).parseFromString(e.target.result,"text/xml");n.dom=o,n.things=[];var i=o.querySelectorAll("ThingSaveData");i.forEach(function(e){var t={dom:e};t.refresh=function(){t.type=t.dom.querySelector("PrefabName").innerHTML;var e=t.dom.querySelector("WorldPosition");t.pos={x:1*e.querySelector("x").innerHTML,y:1*e.querySelector("y").innerHTML,z:1*e.querySelector("z").innerHTML}},t.refresh(),n.things.push(t)}),n.title=i.length+" loaded things.",document.bus.$emit("world-loaded",n),t.value=""},i.readAsText(o))},saveWorld:function(){new XMLSerializer}}}},s={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"loadsave"}},[n("label",{staticClass:"button"},[n("input",{attrs:{type:"file",name:"file"},on:{change:this.loadWorld}}),this._v("\n    Load World\n  ")]),this._v(" "),n("div",{staticClass:"button",on:{click:this.saveWorld}},[this._v("\n    Save Copy of World\n  ")]),this._v(" "),n("div",[this.world?n("h3",[this._v(this._s(this.world.title))]):this._e()])])},staticRenderFns:[]},l={name:"app",components:{LevelView3D:t("VU/8")(r,d,!1,function(e){t("Kp+/")},"data-v-137c8518",null).exports,LevelLoadSave:t("VU/8")(a,s,!1,function(e){t("eHhx")},"data-v-1e92b334",null).exports}},u={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("LevelLoadSave"),this._v(" "),n("LevelView3D")],1)},staticRenderFns:[]},c=t("VU/8")(l,u,!1,function(e){t("Dstr")},null,null).exports;o.a.config.productionTip=!1,document.bus=new o.a,new o.a({el:"#app",template:"<App/>",components:{App:c}})},eHhx:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.83b9e5e8798d7e2a8d79.js.map